import{m as k,r as m,c as w,n as B,b as f,o as t,d as v,e as s,t as N,F as y,B as S,h as g,C as _,j as V,k as b,f as h}from"./index-8d4312d6.js";import{C as x}from"./ContentItem-aea391c2.js";const A={class:"content"},M={class:"content__title"},P={class:"content__list"},F={class:"load-more__button"},E={__name:"Content",props:["type"],setup(l){const o=k(),p=l;let r=m(1),e=m([]),a=m(!1);w(()=>o.totalPages);const d=async()=>{if(!a.value){a.value=!0,r.value===0&&(e.value=[]),r.value+=1,await o.getPopular(p.type,r.value);const n=(p.type==="movie"?o.movie:o.tv).filter(c=>!e.value.some(i=>i.id===c.id));e.value.push(...n),a.value=!1}};return B(()=>{d()}),(C,n)=>{const c=f("font-awesome-icon"),i=f("loader");return t(),v(y,null,[s("section",A,[s("h2",M,N(l.type==="movie"?"All Movies":"All Series"),1),s("div",P,[(t(!0),v(y,null,S(_(e),u=>(t(),g(x,{key:u.id,content:u,type:l.type,vote_average:u.vote_average},null,8,["content","type","vote_average"]))),128)),_(e).length>0?(t(),v("div",{key:0,onClick:d,class:"load-more"},[n[0]||(n[0]=V(" Show More ")),s("button",F,[b(c,{icon:["fas","chevron-right"]})])])):h("",!0)])]),_(a)===!0?(t(),g(i,{key:0})):h("",!0)],64)}}};export{E as _};
