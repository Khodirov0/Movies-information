import{u as C,r as p,g as w,o as x,i as f,a as t,c as v,j as n,t as B,F as g,p as N,q as y,x as _,s as S,b as V,k as h}from"./index-95bdbdba.js";import{C as b}from"./ContentItem-846c830a.js";const A={class:"content"},M={class:"content__title"},P={class:"content__list"},F={class:"load-more__button"},D={__name:"Content",props:["type"],setup(l){const o=C(),m=l;let r=p(1),e=p([]),a=p(!1);w(()=>o.totalPages);const d=async()=>{if(!a.value){a.value=!0,r.value===0&&(e.value=[]),r.value+=1,await o.getPopular(m.type,r.value);const s=(m.type==="movie"?o.movie:o.tv).filter(c=>!e.value.some(i=>i.id===c.id));e.value.push(...s),a.value=!1}};return x(()=>{d()}),(k,s)=>{const c=f("font-awesome-icon"),i=f("loader");return t(),v(g,null,[n("section",A,[n("h2",M,B(l.type==="movie"?"All Movies":"All Series"),1),n("div",P,[(t(!0),v(g,null,N(_(e),u=>(t(),y(b,{key:u.id,content:u,type:l.type,vote_average:u.vote_average},null,8,["content","type","vote_average"]))),128)),_(e).length>0?(t(),v("div",{key:0,onClick:d,class:"load-more"},[s[0]||(s[0]=S(" Show More ")),n("button",F,[V(c,{icon:["fas","chevron-right"]})])])):h("",!0)])]),_(a)===!0?(t(),y(i,{key:0})):h("",!0)],64)}}};export{D as _};
