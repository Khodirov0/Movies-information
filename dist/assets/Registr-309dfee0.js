import{u as N,a as S,r,c as u,b as U,o as l,d as i,e,t as c,w as m,v as k,f as g,g as A,h as P,i as q,j as D,k as M}from"./index-6f6eabef.js";const R={class:"enter"},T={class:"container"},j={class:"enter_box"},$={class:"enter_box-title"},z={key:0,class:"enter_error"},F={class:"enter_box-checkbox"},G={class:"enter_box-checkbox-left"},H={key:3,class:"enter_box-form-btn"},I={class:"enter_box-register"},J={__name:"Enter",setup(y){const p=N(),d=S(),o=r("Войти"),b=r("нужен аккаунт"),n=r(""),s=r(""),v=r(""),_=r(!1),x=u(()=>o.value==="Регистрация"),w=u(()=>s.value&&s.value.length<4),V=u(()=>x.value&&v.value!==s.value),C=u(()=>{if(w)return!n.value||!s.value});u(()=>!!d.user);const h=()=>{const f={email:n.value,password:s.value,remember:_.value};d.setUser(f),d.user&&p.push("/home")},B=()=>{o.value=o.value==="Войти"?"Регистрация":"Войти",b.value=o.value==="Войти"?"нужен аккаунт":"Уже есть аккаунт?"};return(f,t)=>{const E=U("router-link");return l(),i("div",R,[e("div",T,[e("div",j,[e("h2",$,c(o.value),1),e("form",{class:"enter_box-form",onSubmit:h},[m(e("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=a=>n.value=a),required:"",placeholder:"Адрес эл.почты"},null,512),[[k,n.value]]),t[5]||(t[5]=e("input",{type:"password",required:"",minlength:"4",maxlength:"10",placeholder:"Пароль"},null,-1)),V.value?(l(),i("p",z,"Пароли не совпадают.")):g("",!0),x.value?m((l(),i("input",{key:1,type:"password","onUpdate:modelValue":t[1]||(t[1]=a=>v.value=a),placeholder:"Подтвердите пароль"},null,512)),[[k,v.value]]):g("",!0),e("div",F,[e("div",G,[m(e("input",{class:"enter_box-checkbox-left-check",type:"checkbox",id:"remember","onUpdate:modelValue":t[2]||(t[2]=a=>_.value=a)},null,512),[[A,_.value]]),t[3]||(t[3]=e("p",{class:"enter_box-checkbox-left-txt"},"Запомнить меня",-1))]),t[4]||(t[4]=e("a",{href:"#",class:"enter_box-checkbox-forgot"},"Забыли пароль?",-1))]),!C.value&&n.value&&s.value?(l(),P(E,{key:2,to:"/home",class:"enter_box-form-btn",onClick:h},{default:q(()=>[D(c(o.value),1)]),_:1})):(l(),i("button",H,c(o.value),1))],32),e("div",I,[e("p",null,c(b.value),1),e("button",{class:"enter_box-form-register",onClick:B},c(o.value==="Войти"?"Регистрация":"Войти"),1)])])])])}}},L={__name:"Registr",setup(y){return(p,d)=>(l(),i("div",null,[M(J)]))}};export{L as default};
